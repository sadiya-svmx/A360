<template>
    <template if:true={isTypeUnsupported}>
        <div class="slds-p-vertical_x-small slds-text-color_error svmx-unsupported">{i18n.notSupported}</div>
    </template>
    <template if:true={isTypeBoolean}>
        <c-combobox
            disabled={disabled}
            label={fieldLabel}
            value={internalValue}
            variant={inputVariant}
            items={booleanOptions}
            read-only={readOnly}
            required={required}
            hide-none-option
            message-when-value-missing={messageWhenValueMissing}
            onchange={handleChange}
            onblur={handleCommit}
            placeholder={placeholder}
        ></c-combobox>
    </template>
    <template if:true={isTypeCheckbox}>
        <lightning-input
            disabled={disabled}
            label={fieldLabel}
            type="checkbox"
            variant={inputVariant}
            checked={internalValue}
            required={required}
            message-when-value-missing={messageWhenValueMissing}
            onchange={handleChange}
            oncommit={handleCommit}
        ></lightning-input>
    </template>
    <template if:true={isTypeDate}>
        <lightning-input
            disabled={disabled}
            label={fieldLabel}
            type="date"
            variant={inputVariant}
            value={internalValue}
            read-only={readOnly}
            required={required}
            message-when-value-missing={messageWhenValueMissing}
            message-when-bad-input={badInputMessage}
            date-style="short"
            autocomplete="false"
            onchange={handleChange}
            oncommit={handleCommit}
            placeholder={placeholder}
        ></lightning-input>
    </template>
    <template if:true={isTypeDateTime}>
        <lightning-input
            disabled={disabled}
            label={fieldLabel}
            type="datetime"
            variant={inputVariant}
            value={dateTimeInternalValue}
            read-only={readOnly}
            required={required}
            message-when-value-missing={messageWhenValueMissing}
            message-when-bad-input={badInputMessage}
            date-style="short"
            autocomplete="false"
            timezone={timezone}
            onchange={handleChange}
            oncommit={handleCommit}
        ></lightning-input>
    </template>
    <template if:true={isTypeEmail}>
        <lightning-input
            disabled={disabled}
            label={fieldLabel}
            value={internalValue}
            read-only={readOnly}
            required={required}
            message-when-value-missing={messageWhenValueMissing}
            message-when-too-long={tooLongMessage}
            message-when-type-mismatch={i18n.emailMismatch}
            message-when-pattern-mismatch={i18n.emailMismatch}
            type="email"
            variant={inputVariant}
            onchange={handleChange}
            oncommit={handleCommit}
            autocomplete="new-value-input-email"
            max-length={inputMaxLength}
            pattern="^[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$"
            placeholder={placeholder}
        ></lightning-input>
    </template>
    <template if:true={isTypeMultiPicklist}>
        <c-combobox-by-record-type
            disabled={disabled}
            label={fieldLabel}
            value={internalValue}
            variant={inputVariant}
            default-record-type-id={defaultRecordTypeId}
            record-type-id={recordTypeId}
            field-api-name={objectFieldApiName}
            controller-field-name={controllerFieldName}
            controller-value={controllerValue}
            items={picklistOptions}
            read-only={readOnly}
            required={required}
            message-when-value-missing={messageWhenValueMissing}
            onchange={handleChange}
            onblur={handleCommit}
            multiple
            filterable
            placeholder={placeholder}
        ></c-combobox-by-record-type>
    </template>
    <template if:true={isTypeNumber}>
        <lightning-input
            disabled={disabled}
            label={fieldLabel}
            type="number"
            variant={inputVariant}
            read-only={readOnly}
            required={required}
            message-when-value-missing={messageWhenValueMissing}
            message-when-bad-input={badInputMessage}
            message-when-step-mismatch={numberStepMismatchMessage}
            value={internalValue}
            step={numberStep}
            autocomplete="false"
            onchange={handleChange}
            oncommit={handleNumberCommit}
            placeholder={placeholder}
        ></lightning-input>
    </template>
    <template if:true={isTypePhone}>
        <lightning-input
            disabled={disabled}
            label={fieldLabel}
            type="tel"
            variant={inputVariant}
            read-only={readOnly}
            required={required}
            message-when-value-missing={messageWhenValueMissing}
            message-when-too-long={tooLongMessage}
            message-when-pattern-mismatch={patternMismatchMessage}
            pattern={phonePattern}
            value={internalValue}
            onchange={handleChange}
            oncommit={handleCommit}
            autocomplete="new-value-input-phone"
            max-length={inputMaxLength}
            placeholder={placeholder}
        ></lightning-input>
    </template>
    <template if:true={isTypePicklist}>
        <c-combobox-by-record-type
            disabled={disabled}
            label={fieldLabel}
            value={internalValue}
            variant={inputVariant}
            default-record-type-id={defaultRecordTypeId}
            record-type-id={recordTypeId}
            field-api-name={objectFieldApiName}
            controller-field-name={controllerFieldName}
            controller-value={controllerValue}
            items={picklistOptions}
            required={required}
            read-only={readOnly}
            message-when-value-missing={messageWhenValueMissing}
            onchange={handleChange}
            onblur={handleCommit}
            placeholder={placeholder}
            filterable
        ></c-combobox-by-record-type>
    </template>
    <template if:true={isTypeText}>
        <lightning-input
            disabled={disabled}
            label={fieldLabel}
            type="text"
            variant={inputVariant}
            value={internalValue}
            read-only={readOnly}
            required={required}
            message-when-value-missing={messageWhenValueMissing}
            message-when-too-long={tooLongMessage}
            message-when-pattern-mismatch={patternMismatchMessage}
            onchange={handleChange}
            oncommit={handleCommit}
            pattern={textPattern}
            autocomplete="false"
            max-length={inputMaxLength}
            placeholder={placeholder}
        ></lightning-input>
    </template>
    <template if:true={isTypeTextArea}>
        <lightning-textarea
            disabled={disabled}
            label={fieldLabel}
            value={internalValue}
            read-only={readOnly}
            required={required}
            message-when-value-missing={messageWhenValueMissing}
            message-when-too-long={tooLongMessage}
            variant={inputVariant}
            max-length={inputMaxLength}
            onblur={handleCommit}
            onchange={handleChange}
            placeholder={placeholder}
        ></lightning-textarea>
    </template>
    <template if:true={isTypeTime}>
        <lightning-input
            disabled={disabled}
            label={fieldLabel}
            type="time"
            variant={inputVariant}
            read-only={readOnly}
            required={required}
            message-when-value-missing={messageWhenValueMissing}
            message-when-bad-input={badInputMessage}
            value={internalValue}
            autocomplete="false"
            onchange={handleChange}
            oncommit={handleCommit}
            placeholder={placeholder}
        ></lightning-input>
    </template>
    <template if:true={isTypeUrl}>
        <lightning-input
            disabled={disabled}
            label={fieldLabel}
            type="url"
            variant={inputVariant}
            read-only={readOnly}
            required={required}
            message-when-value-missing={messageWhenValueMissing}
            message-when-too-long={tooLongMessage}
            message-when-type-mismatch={i18n.urlMismatch}
            value={internalValue}
            onchange={handleChange}
            oncommit={handleCommit}
            autocomplete="false"
            max-length={inputMaxLength}
            placeholder={placeholder}
        ></lightning-input>
    </template>
    <template if:true={isTypeReference}>
        <template if:true={meta}>
            <c-svmx-lookup
                engine-id={engineId}
                svmx-field-id={fieldId}
                advanced-search-config={meta.advancedSearchConfig}
                disabled={disabled}
                enable-advanced-search={meta.enableAdvancedSearch}
                filters={meta.filters}
                record-type-infos={meta.recordTypeInfos}
                form-fill-mapping-id={meta.formFillMappingId}
                icon-name={lookupIcon}
                label={fieldLabel}
                target-object-api-name={meta.objectApiName}
                target-label-api-name={meta.referenceNameFields}
                onlookupselect={handleChange}
                placeholder={placeholder}
                read-only={readOnly}
                required={required}
                value={internalValue}
                variant={inputVariant}
                enable-event-property-interface={meta.enableEventPropertyInterface}
            ></c-svmx-lookup>
        </template>
    </template>
</template>